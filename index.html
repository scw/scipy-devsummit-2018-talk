<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <link rel="shortcut icon" href="reveal.js/favicon.ico">
  <meta name="generator" content="pandoc">
  <meta name="author" content="Shaun Walbridge">
  <meta name="author" content="Kevin Butler">
  <title>Scientific Programming   with the SciPy Stack</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="reveal.js/css/reveal.css">
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  { color: #cccccc; background-color: #303030; }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ffcfaf; } /* Alert */
code span.an { color: #7f9f7f; font-weight: bold; } /* Annotation */
code span.at { } /* Attribute */
code span.bn { color: #dca3a3; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #f0dfaf; } /* ControlFlow */
code span.ch { color: #dca3a3; } /* Char */
code span.cn { color: #dca3a3; font-weight: bold; } /* Constant */
code span.co { color: #7f9f7f; } /* Comment */
code span.cv { color: #7f9f7f; font-weight: bold; } /* CommentVar */
code span.do { color: #7f9f7f; } /* Documentation */
code span.dt { color: #dfdfbf; } /* DataType */
code span.dv { color: #dcdccc; } /* DecVal */
code span.er { color: #c3bf9f; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #c0bed1; } /* Float */
code span.fu { color: #efef8f; } /* Function */
code span.im { } /* Import */
code span.in { color: #7f9f7f; font-weight: bold; } /* Information */
code span.kw { color: #f0dfaf; } /* Keyword */
code span.op { color: #f0efd0; } /* Operator */
code span.ot { color: #efef8f; } /* Other */
code span.pp { color: #ffcfaf; font-weight: bold; } /* Preprocessor */
code span.sc { color: #dca3a3; } /* SpecialChar */
code span.ss { color: #cc9393; } /* SpecialString */
code span.st { color: #cc9393; } /* String */
code span.va { } /* Variable */
code span.vs { color: #cc9393; } /* VerbatimString */
code span.wa { color: #7f9f7f; font-weight: bold; } /* Warning */
  </style>
  <link rel="stylesheet" href="reveal.js/css/theme/esri-dev-summit-2018.css" id="theme">
  <link rel="stylesheet" href="src/devsummit-2018.css"/>

  <!-- Printing and PDF exports -->
  <script>
    var link = document.createElement( 'link' );
    link.rel = 'stylesheet';
    link.type = 'text/css';
    link.href = window.location.search.match( /print-pdf/gi ) ? 'reveal.js/css/print/pdf.css' : 'reveal.js/css/print/paper.css';
    document.getElementsByTagName( 'head' )[0].appendChild( link );
  </script>
  <!--[if lt IE 9]>
  <script src="reveal.js/lib/js/html5shiv.js"></script>
  <![endif]-->
</head>
<body>
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background="reveal.js/img/bg-1.png" data-background-size="cover">
  <h1 class="title">Scientific Programming <br> with the SciPy Stack</h1>
  <p class="author">Shaun Walbridge</p>
  <p class="author">Kevin Butler</p>
</section>

<section class="slide level2">

<section data-background="reveal.js/img/bg-1.png">
<h2>
<a href="https://github.com/scw/scipy-devsummit-2018-talk" class="uri">https://github.com/scw/scipy-devsummit-2018-talk</a>
</h2>
<h3>
<a href="https://4326.us/esri/scipy-2018/devsummit-2018-scipy-arcgis-presentation-full.pdf">High Quality PDF (5MB)</a>
</h3>
<h3>
<a href="https://4326.us/esri/scipy-2018/#resources">Resources Section</a>
</h3>
</section>
</section>
<section><section id="scientific-computing" class="title-slide slide level1" data-background="reveal.js/img/bg-2.png"><h1>Scientific Computing</h1></section><section id="scientific-computing-1" class="slide level2" data-background="reveal.js/img/bg-2.png">
<h2>Scientific Computing</h2>
<div style="float: left; width: 50%">
<p><img data-src="images/scientific-computing-wheel-diagram.png" class="tight" /></p>
</div>
<div style="float: right; width: 45%; text-align: left; padding-top: 20px">
<p>The application of computational methods to all aspects of the process of scientific investigation – data acquisition, data management, analysis, visualization, and sharing of methods and results.</p>
</div>
</section><section id="extending-arcgis" class="slide level2" data-background="reveal.js/img/bg-2.png">
<h2>Extending ArcGIS</h2>
<ul>
<li>ArcGIS is a <em>system of record</em>. Combine data and analysis from many fields and into a common environemnt.</li>
<li>Why extend? Can’t do it all, we support over 1000 GP tools — enabling <em>integration</em> with other environments to extend the platform.</li>
</ul>
</section></section>
<section><section id="python" class="title-slide slide level1" data-background="reveal.js/img/bg-6.png"><h1>Python</h1></section><section id="why-python" class="slide level2" data-background="reveal.js/img/bg-6.png">
<h2>Why Python?</h2>
<ul>
<li>Accessible for new-comers, and the <a href="http://cacm.acm.org/blogs/blog-cacm/176450-python-is-now-the-most-popular-introductory-teaching-language-at-top-us-universities/fulltext">most taught first language in US universites</a></li>
<li>Extensive package collection (56k on <a href="https://pypi.python.org/pypi">PyPI</a>), broad user-base</li>
<li>Strong glue language used to bind together many environments, both open source and commercial</li>
<li>Open source with liberal license — do what you want</li>
</ul>
<div class="fragment">
<p><br></p>
<ul>
<li>Resources include materials that for getting started</li>
</ul>
</div>
</section><section id="python-in-arcgis" class="slide level2" data-background="reveal.js/img/bg-6.png">
<h2>Python in ArcGIS</h2>
<ul>
<li>Python API for driving ArcGIS Desktop and Server</li>
<li>A fully integrated module: <code>import arcpy</code></li>
<li>Interactive Window, Python Addins, Python Tooboxes</li>
<li>Extensions:
<ul>
<li>Spatial Analyst: <code>arcpy.sa</code></li>
<li>Map Document: <code>arcpy.mapping</code></li>
<li>Network Analyst: <code>arcpy.na</code></li>
<li>Geostatistics: <code>arcpy.ga</code></li>
<li>Fast cursors: <code>arcpy.da</code></li>
</ul></li>
<li>ArcGIS API for Python</li>
</ul>
</section><section id="python-in-arcgis-1" class="slide level2" data-background="reveal.js/img/bg-6.png">
<h2>Python in ArcGIS</h2>
<ul>
<li>Python 3.6 in Pro (<a href="http://pro.arcgis.com/en/pro-app/arcpy/get-started/python-migration-for-arcgis-pro.htm">Desktop vs Pro Python</a>)
<ul>
<li><code>arcpy.mp</code> instead of <code>arcpy.mapping</code></li>
</ul></li>
<li>Continue to add modules: NetCDF4, xlrd, xlwt, PyPDF2, dateutil, pip</li>
<li><a href="http://desktop.arcgis.com/en/desktop/latest/manage-data/raster-and-images/python-raster-function.htm">Python raster function</a>, with a <a href="https://github.com/Esri/raster-functions">repository of examples</a> using SciPy for on the fly visualizations</li>
</ul>
<aside class="notes">
<ul>
<li><code>arcpy.mp</code> Pro works with a conceptual model with <em>Project</em> at the root, so this module reflects that difference from ArcMap where <em>map document</em> is the root with <code>arcpy.mapping</code>.</li>
<li>Modules galore: NetCDF4, xlrd, xlwt, PyPDF2, dateutil, pip, …</li>
</ul>
</aside>
</section><section id="python-in-arcgis-2" class="slide level2" data-background="reveal.js/img/bg-6.png">
<h2>Python in ArcGIS</h2>
<ul>
<li>Here, focus on SciPy stack, what’s included out of the box</li>
<li>Move toward maintainable, reusable code and beyond the “one-off”</li>
<li>Recurring theme: multi-dimensional data structures</li>
</ul>
<aside class="notes">
<p>Multi-dimensional data structures – numpy, pandas, our multi-d support all take advantage of different forms of an N-dimensional data structure. Rich, lets you pack simpler data into it for performance, still useful for 1D and 2D data!</p>
</aside>
</section></section>
<section><section id="scipy" class="title-slide slide level1" data-background="reveal.js/img/bg-2.png"><h1>SciPy</h1></section><section id="why-scipy" class="slide level2" data-background="reveal.js/img/bg-2.png">
<h2>Why SciPy?</h2>
<ul>
<li>Most languages don’t support things useful for science, e.g.:
<ul>
<li>Vector primitives</li>
<li>Complex numbers</li>
<li>Statistics</li>
</ul></li>
<li>Object oriented programming isn’t always the right paradigm for analysis applications, but is the only way to go in many modern languages</li>
<li>SciPy brings the pieces that matter for scientific problems to Python.</li>
</ul>
</section><section id="scipy-stack" class="slide level2" data-background="reveal.js/img/bg-2.png">
<h2>SciPy Stack</h2>
<p><img data-src="images/stack-circle.png" style="width: 600px" /></p>
</section><section id="included-scipy" class="slide level2" data-background="reveal.js/img/bg-2.png">
<h2>Included SciPy</h2>
<table>
<thead>
<tr class="header">
<th>Package</th>
<th style="text-align: right;">KLOC</th>
<th style="text-align: right;">Contributors</th>
<th style="text-align: right;">Stars</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="http://matplotlib.org/">matplotlib</a></td>
<td style="text-align: right;">118</td>
<td style="text-align: right;">441</td>
<td style="text-align: right;">4909</td>
</tr>
<tr class="even">
<td><a href="http://readthedocs.org/docs/nose/en/latest/">Nose</a></td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">75</td>
<td style="text-align: right;">1053</td>
</tr>
<tr class="odd">
<td><a href="http://www.numpy.org/">NumPy</a></td>
<td style="text-align: right;">236</td>
<td style="text-align: right;">429</td>
<td style="text-align: right;">4011</td>
</tr>
<tr class="even">
<td><a href="http://pandas.pydata.org">Pandas</a></td>
<td style="text-align: right;">183</td>
<td style="text-align: right;">408</td>
<td style="text-align: right;">8765</td>
</tr>
<tr class="odd">
<td><a href="http://scipy.org/scipylib/">SciPy</a></td>
<td style="text-align: right;">387</td>
<td style="text-align: right;">387</td>
<td style="text-align: right;">2930</td>
</tr>
<tr class="even">
<td><a href="http://sympy.org/">SymPy</a></td>
<td style="text-align: right;">243</td>
<td style="text-align: right;">443</td>
<td style="text-align: right;">3642</td>
</tr>
<tr class="odd">
<td>Totals</td>
<td style="text-align: right;">1174</td>
<td style="text-align: right;">1885</td>
<td style="text-align: right;"></td>
</tr>
</tbody>
</table>
</section><section id="testing-with-nose" class="slide level2" data-background="reveal.js/img/bg-2.png">
<h2>Testing with Nose</h2>
<ul>
<li><a href="https://nose.readthedocs.org/en/latest/testing.html">Nose</a> — a Python framework for testing</li>
<li>Tests improve your productivity, and create robust code</li>
<li>Nose builds on <code>unittest</code> framework, extends it to make testing easy.</li>
<li>Plugin architecture, <a href="https://nose.readthedocs.org/en/latest/plugins/builtin.html">includes a number of plugins</a> and can be extended with <a href="https://nose-plugins.jottit.com/">third-party plugins</a>.</li>
</ul>
</section><section id="section" class="slide level2" data-background="reveal.js/img/bg-2.png">
<h2><img data-src="images/logos/numpy.png" /></h2>
<ol type="1">
<li>An array object of arbitrary homogeneous items</li>
<li>Fast mathematical operations over arrays</li>
<li>Random Number Generation</li>
</ol>
<p><img data-src="images/numpy-array.png" /></p>
<p><a href="https://scipy-lectures.github.io/intro/numpy/array_object.html#indexing-and-slicing">SciPy Lectures</a>, CC-BY</p>
</section><section id="arcgis-numpy" class="slide level2" data-background="reveal.js/img/bg-2.png">
<h2>ArcGIS + NumPy</h2>
<ul>
<li>ArcGIS and NumPy can interoperate on raster, table, and feature data.</li>
<li>See <a href="http://desktop.arcgis.com/en/desktop/latest/analyze/python/working-with-numpy-in-arcgis.htm">Working with NumPy in ArcGIS</a></li>
<li>In-memory data model. Example script to <a href="../examples/process-by-blocks.py">process by blocks</a> if working with larger data.</li>
</ul>
</section><section id="arcgis-numpy-1" class="slide level2" data-background="reveal.js/img/bg-2.png">
<h2>ArcGIS + NumPy</h2>
<p><img data-src="images/arcgis-numpy-workflow.png" /></p>
</section><section id="section-1" class="slide level2" data-background="reveal.js/img/bg-2.png">
<h2><img data-src="images/logos/matplotlib.png" /></h2>
<ul>
<li>Plotting library and API for NumPy data</li>
<li><a href="http://matplotlib.org/gallery.html" target="_newtab">Matplotlib Gallery</a></li>
</ul>
<p><img data-src="images/special-1.png" /></p>
</section><section id="section-2" class="slide level2" data-background="reveal.js/img/bg-2.png">
<h2><img data-src="images/logos/scipy.png" /></h2>
<p>Computational methods for:</p>
<ul>
<li>Integration (<a href="http://docs.scipy.org/doc/scipy/reference/tutorial/integrate.html">scipy.integrate</a>)</li>
<li>Optimization (<a href="http://docs.scipy.org/doc/scipy/reference/tutorial/optimize.html">scipy.optimize</a>)</li>
<li>Interpolation (<a href="http://docs.scipy.org/doc/scipy/reference/tutorial/interpolate.html">scipy.interpolate</a>)</li>
<li>Fourier Transforms (<a href="http://docs.scipy.org/doc/scipy/reference/tutorial/fftpack.html">scipy.fftpack</a>)</li>
<li>Signal Processing (<a href="http://docs.scipy.org/doc/scipy/reference/tutorial/signal.html">scipy.signal</a>)</li>
<li>Linear Algebra (<a href="http://docs.scipy.org/doc/scipy/reference/tutorial/linalg.html">scipy.linalg</a>)</li>
<li>Spatial (<a href="http://docs.scipy.org/doc/scipy/reference/tutorial/spatial.html">scipy.spatial</a>)</li>
<li><strong>Statistics</strong> (<a href="http://docs.scipy.org/doc/scipy/reference/tutorial/integrate.html">scipy.stats</a>)</li>
<li><strong>Multidimensional image processing</strong> (<a href="http://docs.scipy.org/doc/scipy/reference/tutorial/ndimage.html">scipy.ndimage</a>)</li>
</ul>
<aside class="notes">
<p>Spatial is the tools across all of the domains of science, very general.</p>
<p>That said, can be useful in a variety of circumstances, e.g. <code>KDTree</code> for finding data quickly.</p>
</aside>
</section><section id="scipy-geometric-mean" class="slide level2" data-background="reveal.js/img/bg-2.png">
<h2>SciPy: Geometric Mean</h2>
<ul>
<li>Calculating a geometric mean of an <em>entire raster</em> using SciPy (<a href="../examples/geometric-mean.py">source</a>)</li>
</ul>
<p><img data-src="images/geom-mean.png" /></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="im">import</span> scipy.stats  </a>
<a class="sourceLine" id="cb1-2" data-line-number="2">rast_in <span class="op">=</span> <span class="st">&#39;data/input_raster.tif&#39;</span></a>
<a class="sourceLine" id="cb1-3" data-line-number="3">rast_as_numpy_array <span class="op">=</span> arcpy.RasterToNumPyArray(rast_in)</a>
<a class="sourceLine" id="cb1-4" data-line-number="4">raster_geometric_mean <span class="op">=</span> scipy.stats.stats.gmean(</a>
<a class="sourceLine" id="cb1-5" data-line-number="5">    rast_as_numpy_array, axis<span class="op">=</span><span class="va">None</span>)  </a></code></pre></div>
<aside class="notes">
<p>(<a href="https://geonet.esri.com/message/436296#436296">Inspiration</a>)</p>
</aside>
</section><section id="use-case-benthic-terrain-modeler" class="slide level2" data-background="images/btm-terrain.jpg">
<h2>Use Case: Benthic Terrain Modeler</h2>
</section><section id="benthic-terrain-modeler" class="slide level2" data-background="reveal.js/img/bg-6.png">
<h2>Benthic Terrain Modeler</h2>
<ul>
<li>A Python Add-in and Python toolbox for geomorphology</li>
<li>Open source, can borrow code for your own projects: <a href="https://github.com/EsriOceans/btm" class="uri">https://github.com/EsriOceans/btm</a></li>
<li>Active community of users, primarily marine scientists, but also useful for other applications</li>
</ul>
</section><section id="lightweight-scipy-integration" class="slide level2" data-background="reveal.js/img/bg-6.png">
<h2>Lightweight SciPy Integration</h2>
<ul>
<li>Using <code>scipy.ndimage</code> to perform basic multiscale analysis</li>
<li>Using <code>scipy.stats</code> to compute circular statistics</li>
</ul>
</section><section id="lightweight-scipy-integration-1" class="slide level2" data-background="reveal.js/img/bg-6.png">
<h2>Lightweight SciPy Integration</h2>
<p><a href="../examples/calculate-bpi-with-scipy.py">Example source</a></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="im">import</span> arcpy</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="im">import</span> scipy.ndimage <span class="im">as</span> nd</a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="im">from</span> matplotlib <span class="im">import</span> pyplot <span class="im">as</span> plt</a>
<a class="sourceLine" id="cb2-4" data-line-number="4"></a>
<a class="sourceLine" id="cb2-5" data-line-number="5">ras <span class="op">=</span> <span class="st">&quot;data/input_raster.tif&quot;</span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6">r <span class="op">=</span> arcpy.RasterToNumPyArray(ras, <span class="st">&quot;&quot;</span>, <span class="dv">200</span>, <span class="dv">200</span>, <span class="dv">0</span>)</a>
<a class="sourceLine" id="cb2-7" data-line-number="7"></a>
<a class="sourceLine" id="cb2-8" data-line-number="8">fig <span class="op">=</span> plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">10</span>))</a></code></pre></div>
</section><section id="lightweight-scipy-integration-2" class="slide level2" data-background="reveal.js/img/bg-6.png">
<h2>Lightweight SciPy Integration</h2>
<div class="sourceCode" id="cb3"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">xrange</span>(<span class="dv">25</span>):</a>
<a class="sourceLine" id="cb3-2" data-line-number="2">    size <span class="op">=</span> (i<span class="op">+</span><span class="dv">1</span>) <span class="op">*</span> <span class="dv">3</span></a>
<a class="sourceLine" id="cb3-3" data-line-number="3">    <span class="bu">print</span> <span class="st">&quot;running </span><span class="sc">{}</span><span class="st">&quot;</span>.<span class="bu">format</span>(size)</a>
<a class="sourceLine" id="cb3-4" data-line-number="4">    med <span class="op">=</span> nd.median_filter(r, size)</a>
<a class="sourceLine" id="cb3-5" data-line-number="5"></a>
<a class="sourceLine" id="cb3-6" data-line-number="6">    a <span class="op">=</span> fig.add_subplot(<span class="dv">5</span>, <span class="dv">5</span>,i<span class="op">+</span><span class="dv">1</span>)</a>
<a class="sourceLine" id="cb3-7" data-line-number="7">    plt.imshow(med, interpolation<span class="op">=</span><span class="st">&#39;nearest&#39;</span>)</a>
<a class="sourceLine" id="cb3-8" data-line-number="8">    a.set_title(<span class="st">&#39;</span><span class="sc">{}</span><span class="st">x</span><span class="sc">{}</span><span class="st">&#39;</span>.<span class="bu">format</span>(size, size))</a>
<a class="sourceLine" id="cb3-9" data-line-number="9">    plt.axis(<span class="st">&#39;off&#39;</span>)</a>
<a class="sourceLine" id="cb3-10" data-line-number="10">    plt.subplots_adjust(hspace <span class="op">=</span> <span class="fl">0.1</span>)</a>
<a class="sourceLine" id="cb3-11" data-line-number="11">    prev <span class="op">=</span> med</a>
<a class="sourceLine" id="cb3-12" data-line-number="12"></a>
<a class="sourceLine" id="cb3-13" data-line-number="13">plt.savefig(<span class="st">&quot;btm-scale-compare.png&quot;</span>, bbox_inches<span class="op">=</span><span class="st">&#39;tight&#39;</span>)</a></code></pre></div>
</section><section id="section-3" class="slide level2" data-background="images/btm-scale-compare-2.png">
<h2> </h2>
<p><br></p>
</section><section id="scipy-statistics" class="slide level2" data-background="reveal.js/img/bg-6.png">
<h2>SciPy Statistics</h2>
<p><img data-src="images/aspect-statistical.png" /></p>
<ul>
<li>Break down aspect into <code>sin()</code> and <code>cos()</code> variables</li>
<li>Aspect is a circular variable — without this 0 and 360 are opposites instead of being the same value</li>
</ul>
</section><section id="scipy-statistics-1" class="slide level2" data-background="reveal.js/img/bg-6.png">
<h2>SciPy Statistics</h2>
<p>Summary statistics from SciPy include circular statistics (<a href="../examples/circular-stats.py">source</a>).</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="im">import</span> scipy.stats.morestats</a>
<a class="sourceLine" id="cb4-2" data-line-number="2"></a>
<a class="sourceLine" id="cb4-3" data-line-number="3">ras <span class="op">=</span> <span class="st">&quot;data/aspect_raster.tif&quot;</span></a>
<a class="sourceLine" id="cb4-4" data-line-number="4">r <span class="op">=</span> arcpy.RasterToNumPyArray(ras)</a>
<a class="sourceLine" id="cb4-5" data-line-number="5"></a>
<a class="sourceLine" id="cb4-6" data-line-number="6">morestats.circmean(r)</a>
<a class="sourceLine" id="cb4-7" data-line-number="7">morestats.circstd(r)</a>
<a class="sourceLine" id="cb4-8" data-line-number="8">morestats.circvar(r)</a></code></pre></div>
</section><section id="demo-scipy" class="slide level2" data-background="reveal.js/img/bg-2.png">
<h2>Demo: SciPy</h2>
</section></section>
<section><section id="multidimensional-data" class="title-slide slide level1" data-background="reveal.js/img/bg-6.png"><h1>Multidimensional Data</h1></section><section id="netcdf4" class="slide level2" data-background="reveal.js/img/bg-6.png">
<h2>NetCDF4</h2>
<ul>
<li>Fast, HDF5 and NetCDF4 read+write support, OPeNDAP</li>
<li>Heirarchical data structures</li>
<li>Widely used in meterology, oceanography, climate communities</li>
<li>Easier: Multidimensional Toolbox, but can be useful</li>
</ul>
<p>(<a href="../examples/netcdf-open.py">Source</a>)</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="im">import</span> netCDF4</a>
<a class="sourceLine" id="cb5-2" data-line-number="2">nc <span class="op">=</span> netCDF4.Dataset(<span class="st">&#39;test.nc&#39;</span>, <span class="st">&#39;r&#39;</span>, <span class="bu">format</span><span class="op">=</span><span class="st">&#39;NETCDF4&#39;</span>)</a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="bu">print</span> nc.file_format</a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="co"># outputs: NETCDF4</span></a>
<a class="sourceLine" id="cb5-5" data-line-number="5">nc.close()</a></code></pre></div>
<aside class="notes">
<ul>
<li>CF compliant data</li>
<li>Fast, C-based access</li>
</ul>
</aside>
</section><section id="multidimensional-improvements" class="slide level2" data-background="reveal.js/img/bg-6.png">
<h2>Multidimensional Improvements</h2>
<ul>
<li>Multidimensional formats: HDF, GRIB, NetCDF</li>
<li>Access via OPeNDAP, vector renderer, Raster Function Chaining</li>
<li><a href="http://desktop.arcgis.com/en/desktop/latest/manage-data/raster-and-images/creating-and-visualizing-a-multidimensional-mosaic-dataset.htm">An example which combines mutli-D with time</a></li>
<li>Multi-D supported as WMS, and in Mosaic datasets (10.2.1+)</li>
</ul>
</section></section>
<section><section id="pandas" class="title-slide slide level1" data-background="reveal.js/img/bg-2.png"><h1>Pandas</h1></section><section id="section-4" class="slide level2" data-background="reveal.js/img/bg-2.png">
<h2><img data-src="images/logos/pandas.png" /></h2>
<ul>
<li><strong>Pan</strong>el <strong>Da</strong>ta — like R “data frames”</li>
<li>Bring a robust data <em>analysis</em> workflow to Python</li>
<li>Data frames are fundamental — treat tabular (and multi-dimensional) data as a labeled, indexed series of observations.</li>
</ul>
</section><section id="section-5" class="slide level2" data-background="reveal.js/img/bg-2.png">
<h2><img data-src="images/logos/pandas.png" /></h2>
<p>(<a href="../examples/pandas-filter.py">Source</a>)</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="im">import</span> pandas</a>
<a class="sourceLine" id="cb6-2" data-line-number="2"></a>
<a class="sourceLine" id="cb6-3" data-line-number="3">data <span class="op">=</span> pandas.read_csv(<span class="st">&#39;data/season-ratings.csv&#39;</span>)</a>
<a class="sourceLine" id="cb6-4" data-line-number="4">data.columns</a></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb7-1" data-line-number="1">Index([<span class="st">u&#39;season&#39;</span>, <span class="st">u&#39;households&#39;</span>, <span class="st">u&#39;rank&#39;</span>, <span class="st">u&#39;tv_households&#39;</span>, <span class="op">\</span></a>
<a class="sourceLine" id="cb7-2" data-line-number="2">       <span class="st">u&#39;net_indep&#39;</span>, <span class="st">u&#39;primetime_pct&#39;</span>], dtype<span class="op">=</span><span class="st">&#39;object&#39;</span>)</a></code></pre></div>
</section><section id="section-6" class="slide level2" data-background="reveal.js/img/bg-2.png">
<h2><img data-src="images/logos/pandas.png" /></h2>
<div class="sourceCode" id="cb8"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb8-1" data-line-number="1">majority_simpsons <span class="op">=</span> data[data.primetime_pct <span class="op">&gt;</span> <span class="dv">50</span>]</a></code></pre></div>
<pre><code>    season households  tv_households  net_indep  primetime_pct
0        1  13.4m[41]           92.1       51.6      80.751174
1        2  12.2m[n2]           92.1       50.4      78.504673
2        3  12.0m[n3]           92.1       48.4      76.582278
3        4  12.1m[48]           93.1       46.2      72.755906
4        5  10.5m[n4]           93.1       46.5      72.093023
5        6   9.0m[50]           95.4       46.1      71.032357
6        7   8.0m[51]           95.9       46.6      70.713202
7        8   8.6m[52]           97.0       44.2      67.584098
8        9   9.1m[53]           98.0       42.3      64.383562
9       10   7.9m[54]           99.4       39.9      60.916031
10      11   8.2m[55]          100.8       38.1      57.466063
11      12  14.7m[56]          102.2       36.8      53.958944
12      13  12.4m[57]          105.5       35.0      51.094891</code></pre>
</section><section id="demo-pandas" class="slide level2" data-background="reveal.js/img/bg-2.png">
<h2>Demo: Pandas</h2>
</section></section>
<section><section id="sympy" class="title-slide slide level1" data-background="reveal.js/img/bg-2.png"><h1>SymPy</h1></section><section id="section-7" class="slide level2" data-background="reveal.js/img/bg-2.png">
<h2><img data-src="images/logos/sympy.png" class="tight" /></h2>
<ul>
<li>A Computer Algebra System (CAS), solve math equations (<a href="../examples/sympy-algebra.py">source</a>)</li>
</ul>
<div class="sourceCode" id="cb10"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="im">from</span> sympy <span class="im">import</span> <span class="op">*</span></a>
<a class="sourceLine" id="cb10-2" data-line-number="2">x <span class="op">=</span> symbol(<span class="st">&#39;x&#39;</span>)</a>
<a class="sourceLine" id="cb10-3" data-line-number="3">eq <span class="op">=</span> Eq(x<span class="op">**</span><span class="dv">3</span> <span class="op">+</span> <span class="dv">2</span><span class="op">*</span>x<span class="op">**</span><span class="dv">2</span> <span class="op">+</span> <span class="dv">4</span><span class="op">*</span>x <span class="op">+</span> <span class="dv">8</span>, <span class="dv">0</span>)</a></code></pre></div>
<p><img data-src="images/sympy-eq.png" /></p>
<div class="sourceCode" id="cb11"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb11-1" data-line-number="1">solve(eq, x)</a></code></pre></div>
<p><img data-src="images/sympy-res.png" /></p>
</section><section id="demo-sympy" class="slide level2" data-background="reveal.js/img/bg-2.png">
<h2>Demo: SymPy</h2>
</section></section>
<section><section id="where-and-how-fast" class="title-slide slide level1" data-background="reveal.js/img/bg-2.png"><h1>Where and How Fast?</h1></section><section id="where-can-i-run-this" class="slide level2" data-background="reveal.js/img/bg-2.png">
<h2>Where Can I Run This?</h2>
<ul>
<li>Now:
<ul>
<li>ArcGIS Pro (64-bit)</li>
<li>10.6: ArcMap, Server, both 32- and 64- bit environments
<ul>
<li>Both now ship with <a href="https://www.scipy.org/about.html">Scipy Stack</a></li>
</ul></li>
<li>MKL enabled NumPy and SciPy everywhere
<ul>
<li><span style="font-size: 0.6em;">Older releases: NumPy: ArcGIS 9.2+, matplotlib: ArcGIS 10.1+, SciPy: 10.4+, Pandas: 10.4+</span></li>
</ul></li>
<li>Conda for managing full Python environments, consuming and producing packages</li>
<li>With the ArcGIS API for Python! Can run anywhere Python runs.</li>
</ul></li>
</ul>
<aside class="notes">
<pre><code>- SciPy stack is now available across the platform. Try it out, you can build things that will work on your machine and your users machines without additional work.
- IPython: Let&#39;s get this done like yesterday. Had it in the &#39;upcoming&#39; of last years slide, I&#39;ll eat a hat if it isn&#39;t in by next DevSummit.
- Conda session today, Mesquite GH at 4pm.</code></pre>
</aside>
</section><section id="how-does-it-perform" class="slide level2" data-background="reveal.js/img/bg-2.png">
<h2>How Does It perform?</h2>
<ul>
<li>Built with Intel’s <a href="https://software.intel.com/en-us/intel-mkl">Math Kernel Library (MKL)</a> and compilers—highly optimized Fortran and C under the hood.</li>
<li>Automated parallelization for executed code</li>
</ul>
<p><a href="https://4326.us/esri/scipy/mkl-perf" target="_newtab">MKL Performance Chart</a></p>
<aside class="notes">
<p>Quoting Kevin from last year: Wicked fast. Pandas is fast, scipy functions are fast, and we now enable MKL across the platform for all builds. You write Python, but get best of class performance for free.</p>
<p>Take this graph with a large grain of salt. Realistically, can expect 2-10x improvements in many numerical routines.</p>
</aside>
</section></section>
<section><section id="from-future-import" class="title-slide slide level1" data-background="reveal.js/img/bg-6.png"><h1>from future import *</h1></section><section id="opening-doors" class="slide level2" data-background="reveal.js/img/bg-6.png">
<h2>Opening Doors</h2>
<ul>
<li>Machine learning (<code>scikit-learn</code>, <code>scikit-image</code>, …)</li>
<li>Deep learning (<code>theano</code>, …)</li>
<li>Bayesian statistics (<code>PyMC</code>)
<ul>
<li>Markov Chain Monte Carlo (MCMC)</li>
</ul></li>
<li>Frequentist statistics (<code>statsmodels</code>)</li>
<li>With Conda, not just Python! <code>tensorflow</code>, many others</li>
</ul>
</section></section>
<section><section id="resources" class="title-slide slide level1" data-background="reveal.js/img/bg-6.png"><h1>Resources</h1></section><section id="new-to-python" class="slide level2" data-background="reveal.js/img/bg-6.png">
<h2>New to Python</h2>
<ul>
<li>Courses:
<ul>
<li><a href="https://www.coursera.org/course/pythonlearn">Programming for Everybody</a></li>
<li><a href="http://www.codecademy.com/tracks/python">Codecademy: Python Track</a></li>
</ul></li>
<li>Books:
<ul>
<li><a href="http://learnpythonthehardway.org/">Learn Python the Hard Way</a></li>
<li><a href="http://interactivepython.org/runestone/static/thinkcspy/toc.html">How to Think Like a Computer Scientist</a></li>
</ul></li>
</ul>
</section><section id="gis-focused" class="slide level2" data-background="reveal.js/img/bg-6.png">
<h2>GIS Focused</h2>
<ul>
<li><a href="http://esripress.esri.com/display/index.cfm?fuseaction=display&amp;websiteID=276&amp;moduleID=0">Python Scripting for ArcGIS</a></li>
<li><a href="https://www.packtpub.com/application-development/arcpy-and-arcgis-geospatial-analysis-python">ArcPy and ArcGIS - Geospatial Analysis with Python</a></li>
<li><a href="https://geonet.esri.com/community/developers/gis-developers/python">Python Developers GeoNet Community</a></li>
<li><a href="https://gis.stackexchange.com/">GIS Stackexchange</a></li>
</ul>
</section><section id="scientific" class="slide level2" data-background="reveal.js/img/bg-6.png">
<h2>Scientific</h2>
<p>Courses:</p>
<ul>
<li><a href="https://scipy-lectures.github.io">Python Scientific Lecture Notes</a></li>
<li><a href="https://www.coursera.org/course/scicomp">High Performance Scientific Computing</a></li>
<li><a href="https://www.coursera.org/course/matrix">Coding the Matrix: Linear Algebra through Computer Science Applications</a></li>
<li><a href="https://www.coursera.org/course/datascitoolbox">The Data Scientist’s Toolbox</a></li>
</ul>
</section><section id="scientific-1" class="slide level2" data-background="reveal.js/img/bg-6.png">
<h2>Scientific</h2>
<p>Books:</p>
<ul>
<li>Free:
<ul>
<li><a href="https://camdavidsonpilon.github.io/Probabilistic-Programming-and-Bayesian-Methods-for-Hackers/">Probabilistic Programming &amp; Bayesian Methods for Hackers</a>
<ul>
<li>very compelling book on Bayesian methods in Python, uses SciPy + PyMC.</li>
</ul></li>
<li><a href="https://github.com/rlabbe/Kalman-and-Bayesian-Filters-in-Python">Kalman and Bayesian Filters in Python</a></li>
</ul></li>
</ul>
</section><section id="scientific-2" class="slide level2" data-background="reveal.js/img/bg-6.png">
<h2>Scientific</h2>
<ul>
<li>Paid:
<ul>
<li><a href="http://www.codingthematrix.com/">Coding the Matrix</a>
<ul>
<li>How to use linear algebra and Python to solve amazing problems.</li>
</ul></li>
<li><a href="http://shop.oreilly.com/product/0636920023784.do">Python for Data Analysis: Data Wrangling with Pandas, NumPy, and IPython</a>
<ul>
<li>The cannonical book on Pandas and analysis.</li>
</ul></li>
</ul></li>
</ul>
</section><section id="packages" class="slide level2" data-background="reveal.js/img/bg-6.png">
<h2>Packages</h2>
<p>Only require SciPy Stack:</p>
<ul>
<li>Scikit-learn:
<ul>
<li><a href="https://scipy-lectures.github.io/advanced/scikit-learn/index.html">Lecture material</a></li>
<li>Includes SVMs, can use those for image processing among other things…</li>
</ul></li>
<li>FilterPy, Kalman filtering and optimal estimation:
<ul>
<li><a href="https://github.com/rlabbe/filterpy">FilterPy on GitHub</a></li>
</ul></li>
<li><a href="https://github.com/svaksha/pythonidae/blob/master/AI.md">An extensive list of machine learning packages</a></li>
</ul>
</section><section id="code" class="slide level2" data-background="reveal.js/img/bg-6.png">
<h2>Code</h2>
<ul>
<li><a href="https://github.com/search?p=5&amp;q=scipy+arcpy&amp;type=Code&amp;utf8=%E2%9C%93">ArcPy + SciPy on Github</a></li>
<li><a href="https://github.com/Esri/raster-functions">raster-functions</a>
<ul>
<li>An open source collection of function chains to show how to do complex things using NumPy + scipy on the fly for visualization purposes</li>
</ul></li>
<li><a href="https://docs.python.org/3/library/statistics.html">statistics library</a> with a handful of descriptive statistics included in Python 3.4.</li>
<li><em>TIP</em>: Want a codebase that runs in Python 2 and 3? <a href="http://python-future.org">Check out future</a>, which helps maintain a single codebase that supports both. Includes the <code>futurize</code> script to initially a project written for one version.</li>
</ul>
</section><section id="scientific-arcgis-extensions" class="slide level2" data-background="reveal.js/img/bg-6.png">
<h2>Scientific ArcGIS Extensions</h2>
<ul>
<li><a href="https://github.com/Esri/PySAL-ArcGIS-Toolbox">PySAL ArcGIS Toolbox</a></li>
<li><a href="http://www.movementecology.net/">Movement Ecology Tools for ArcGIS (ArcMET)</a></li>
<li><a href="http://mgel.env.duke.edu/mget/">Marine Geospatial Ecology Tools (MGET)</a>
<ul>
<li>Combines Python, R, and MATLAB to solve a wide variety of problems</li>
</ul></li>
<li><a href="http://sdmtoolbox.org/">SDMToolbox</a>
<ul>
<li>species distribution &amp; maximum entropy models</li>
</ul></li>
<li><a href="http://www.arcgis.com/home/item.html?id=b0d0be66fd33440d97e8c83d220e7926">Benthic Terrain Modeler</a></li>
<li><a href="http://www.spatialecology.com/gme/">Geospatial Modeling Environment</a></li>
<li><a href="http://www.circuitscape.org/">CircuitScape</a></li>
</ul>
</section><section id="conferences" class="slide level2" data-background="reveal.js/img/bg-6.png">
<h2>Conferences</h2>
<ul>
<li><a href="http://pycon.org">PyCon</a>
<ul>
<li>The largest gathering of Pythonistas in the world</li>
</ul></li>
<li><a href="https://scipy.org">SciPy</a>
<ul>
<li>A meeting of Scientific Python users from all walks</li>
</ul></li>
<li><a href="http://www.geopython.net/">GeoPython</a>
<ul>
<li>The Python event for Python and Geo enthusiasts</li>
</ul></li>
<li><a href="http://pyvideo.org/">PyVideo</a>
<ul>
<li>Talks from Python conferences around the world available freely online.</li>
<li><a href="http://pyvideo.org/search?models=videos.video&amp;q=gis">PyVideo GIS talks</a></li>
</ul></li>
</ul>
</section></section>
<section><section id="closing" class="title-slide slide level1" data-background="reveal.js/img/bg-2.png"><h1>Closing</h1></section><section id="thanks" class="slide level2" data-background="reveal.js/img/bg-2.png">
<h2>Thanks</h2>
<ul>
<li>Geoprocessing Team</li>
<li>The many amazing contributors to the projects demonstrated here.
<ul>
<li>Get involved! All are on GitHub and happily accept contributions.</li>
</ul></li>
</ul>
</section><section id="rate-this-session" class="slide level2" data-background="reveal.js/img/bg-2.png">
<h2>Rate This Session</h2>
<p><strong>iOS, Android</strong>: Feedback from within the app</p>
<div class="fragment">
<p><strong>Windows Phone, or no smartphone?</strong> Cuneiform tablets accepted.</p>
<p><img data-src="images/Amarna_Akkadian_letter_rotated_2.png" style="border: none; background: none; box-shadow: none;" /></p>
</div>
</section><section id="fin" class="slide level2" data-background="images/end.png">
<h2><span style="display:none">fin</span></h2>
</section></section>
    </div>
  </div>

  <script src="reveal.js/lib/js/head.min.js"></script>
  <script src="reveal.js/js/reveal.js"></script>

  <script>

      // Full list of configuration options available at:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        // Display controls in the bottom right corner
        controls: false,
        // Display a presentation progress bar
        progress: true,
        // Push each slide change to the browser history
        history: true,
        // Vertical centering of slides
        center: true,
        // Transition style
        transition: 'slide', // none/fade/slide/convex/concave/zoom

        // Optional reveal.js plugins
        dependencies: [
          { src: 'reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: 'reveal.js/plugin/zoom-js/zoom.js', async: true },
          { src: 'reveal.js/plugin/notes/notes.js', async: true }
        ]
      });
    </script>
    </body>
</html>
